<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>YT+</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <header class="popup-header">
      <div class="header-title-section">
        <img src="../img/ytplus.png" alt="Logo" class="header-icon"/>
      </div>
      <div class="header-controls">
        <label class="status-toggle-label" for="status-toggle" title="Toggle Extension On/Off">
          <div class="toggle-switch">
            <input type="checkbox" id="status-toggle" />
            <span class="slider"></span>
          </div>
        </label>
      </div>
    </header>
    <div id="error-message"></div>
    <div class="form-group" style="margin-top: 12px;">
      <label for="shorts-speed-enabled" style="cursor: pointer;">
        <i class="fas fa-tachometer-alt"></i> Ускорение воспроизведения Shorts
      </label>
      <div class="toggle-switch-label" style="margin-top: 8px;">
        <span class="toggle-switch-text">Включить</span>
        <label class="status-toggle-label" for="shorts-speed-enabled" style="cursor: pointer;">
          <div class="toggle-switch">
            <input type="checkbox" id="shorts-speed-enabled" />
            <span class="slider"></span>
          </div>
        </label>
      </div>
      <div class="description" style="margin-top: 8px;">Включить возможность ускорения воспроизведения Shorts</div>
      <label for="shorts-speed-select" style="margin-top: 12px; display: block;">
        <i class="fas fa-sliders-h"></i> Скорость ускорения
      </label>
      <select id="shorts-speed-select" style="width: 100%; padding: 0.5rem 0.7rem; background-color: var(--input-bg); border: 1.5px solid var(--input-border); border-radius: var(--border-radius-md); color: var(--text-primary); font-size: 0.95rem; font-family: var(--font-family); cursor: pointer; margin-top: 4px;">
        <option value="1.2">1.2x</option>
        <option value="1.5">1.5x</option>
        <option value="1.7">1.7x</option>
        <option value="2" selected>2x</option>
        <option value="2.5">2.5x</option>
      </select>
      <div class="description" style="margin-top: 8px;">Выберите скорость для ускорения Shorts. Переключить скорость можно кнопкой на экране.</div>
      <label for="shorts-speed-shortcut" style="margin-top: 12px; display: block;">
        <i class="fas fa-keyboard"></i> Горячие клавиши для переключения скорости
      </label>
      <input type="text" id="shorts-speed-shortcut" placeholder="Нажмите комбинацию клавиш..." style="width: 100%; padding: 0.5rem 0.7rem; background-color: var(--input-bg); border: 1.5px solid var(--input-border); border-radius: var(--border-radius-md); color: var(--text-primary); font-size: 0.95rem; font-family: var(--font-family); margin-top: 4px;" />
      <div class="description">Кликните в поле и нажмите комбинацию клавиш для записи (например: Shift+S, Ctrl+K)</div>
      <label for="shorts-scroll-enabled" style="margin-top: 12px; display: block; cursor: pointer;">
        <i class="fas fa-arrows-alt-v"></i> Прокрутка Shorts клавишами
      </label>
      <div class="toggle-switch-label" style="margin-top: 8px;">
        <span class="toggle-switch-text">Включить</span>
        <label class="status-toggle-label" for="shorts-scroll-enabled" style="cursor: pointer;">
          <div class="toggle-switch">
            <input type="checkbox" id="shorts-scroll-enabled" />
            <span class="slider"></span>
          </div>
        </label>
      </div>
      <div class="description" style="margin-top: 8px;">Включить возможность прокрутки Shorts с помощью горячих клавиш</div>
      <label for="shorts-scroll-down-shortcut" style="margin-top: 12px; display: block;">
        <i class="fas fa-arrow-down"></i> Горячие клавиши для прокрутки вниз (следующий Short)
      </label>
      <input type="text" id="shorts-scroll-down-shortcut" placeholder="Нажмите комбинацию клавиш..." style="width: 100%; padding: 0.5rem 0.7rem; background-color: var(--input-bg); border: 1.5px solid var(--input-border); border-radius: var(--border-radius-md); color: var(--text-primary); font-size: 0.95rem; font-family: var(--font-family); margin-top: 4px;" />
      <div class="description" style="margin-top: 8px;">Кликните в поле и нажмите комбинацию клавиш для записи (например: D, В)</div>
      <label for="shorts-scroll-up-shortcut" style="margin-top: 12px; display: block;">
        <i class="fas fa-arrow-up"></i> Горячие клавиши для прокрутки вверх (предыдущий Short)
      </label>
      <input type="text" id="shorts-scroll-up-shortcut" placeholder="Нажмите комбинацию клавиш..." style="width: 100%; padding: 0.5rem 0.7rem; background-color: var(--input-bg); border: 1.5px solid var(--input-border); border-radius: var(--border-radius-md); color: var(--text-primary); font-size: 0.95rem; font-family: var(--font-family); margin-top: 4px;" />
      <div class="description">Кликните в поле и нажмите комбинацию клавиш для записи (например: E, У)</div>
    </div>

    <div class="form-group" style="margin-top: 12px;">
      <label for="normal-video-speed-enabled" style="cursor: pointer;">
        <i class="fas fa-tachometer-alt"></i> Ускорение воспроизведения обычных видео
      </label>
      <div class="toggle-switch-label" style="margin-top: 8px;">
        <span class="toggle-switch-text">Включить</span>
        <label class="status-toggle-label" for="normal-video-speed-enabled" style="cursor: pointer;">
          <div class="toggle-switch">
            <input type="checkbox" id="normal-video-speed-enabled" />
            <span class="slider"></span>
          </div>
        </label>
      </div>
      <div class="description" style="margin-top: 8px;">Включить возможность ускорения воспроизведения обычных видео</div>
      <label for="normal-video-speed-shortcut" style="margin-top: 12px; display: block;">
        <i class="fas fa-keyboard"></i> Горячие клавиши для переключения скорости
      </label>
      <input type="text" id="normal-video-speed-shortcut" placeholder="Нажмите комбинацию клавиш..." style="width: 100%; padding: 0.5rem 0.7rem; background-color: var(--input-bg); border: 1.5px solid var(--input-border); border-radius: var(--border-radius-md); color: var(--text-primary); font-size: 0.95rem; font-family: var(--font-family); margin-top: 4px;" />
      <div class="description">Кликните в поле и нажмите комбинацию клавиш для записи (например: Shift+S, Ctrl+K)</div>
    </div>
    
    <div class="form-group" style="margin-top: 12px;">
      <label for="progress-bar-enabled" style="cursor: pointer;">
        <i class="fas fa-palette"></i> Кастомный прогресс-бар
      </label>
      <div class="toggle-switch-label" style="margin-top: 8px;">
        <span class="toggle-switch-text">Включить</span>
        <label class="status-toggle-label" for="progress-bar-enabled" style="cursor: pointer;">
          <div class="toggle-switch">
            <input type="checkbox" id="progress-bar-enabled" />
            <span class="slider"></span>
          </div>
        </label>
      </div>
    </div>

    <div class="form-group" id="progress-bar-settings" style="display: none;">
      <label for="progress-color">
        <i class="fas fa-paint-brush"></i> Цвет прогресс-бара
      </label>
      <input type="color" id="progress-color" value="#ff0000" style="width: 100%; height: 40px; cursor: pointer; border-radius: 8px;" />
      <div class="description">Цвет заполненной части прогресс-бара</div>
      
      <label style="margin-top: 12px; display: block;">
        <i class="fas fa-circle"></i> Точка воспроизведения
      </label>
      <div style="display: flex; gap: 8px; margin-top: 4px;">
        <label style="flex: 1; cursor: pointer; padding: 8px; background: var(--input-bg); border: 1.5px solid var(--input-border); border-radius: 8px; text-align: center; font-size: 0.85rem;">
          <input type="radio" name="scrubber-type" value="color" id="scrubber-type-color" checked style="margin-right: 4px;" />
          Цвет
        </label>
        <label style="flex: 1; cursor: pointer; padding: 8px; background: var(--input-bg); border: 1.5px solid var(--input-border); border-radius: 8px; text-align: center; font-size: 0.85rem;">
          <input type="radio" name="scrubber-type" value="image" id="scrubber-type-image" style="margin-right: 4px;" />
          Изображение
        </label>
      </div>
      
      <div id="scrubber-color-container" style="margin-top: 8px;">
        <input type="color" id="scrubber-color" value="#ff0000" style="width: 100%; height: 40px; cursor: pointer; border-radius: 8px;" />
        <div class="description">Цвет ползунка (точки) на прогресс-баре</div>
      </div>
      
      <div id="scrubber-image-container" style="margin-top: 8px; display: none;">
        <input type="file" id="scrubber-image" accept="image/*" style="width: 100%; padding: 8px; background: var(--input-bg); border: 1.5px solid var(--input-border); border-radius: 8px; color: var(--text-primary); cursor: pointer; margin-bottom: 8px;" />
        <div id="scrubber-image-preview" style="width: 100%; min-height: 60px; background: var(--input-bg); border: 1.5px solid var(--input-border); border-radius: 8px; display: flex; align-items: center; justify-content: center; padding: 8px; margin-bottom: 8px;">
          <span style="color: var(--text-secondary); font-size: 0.85rem;">Превью изображения</span>
        </div>
        
        <label for="scrubber-image-size" style="display: block; margin-top: 8px; margin-bottom: 4px;">
          <i class="fas fa-expand-arrows-alt"></i> Размер изображения: <span id="scrubber-image-size-value">40</span>px
        </label>
        <input type="range" id="scrubber-image-size" min="20" max="150" value="40" step="5" style="width: 100%; height: 6px; background: var(--input-bg); border-radius: 3px; outline: none; cursor: pointer; margin-bottom: 8px;" />
        <div class="description" style="margin-top: -4px;">Размер изображения в пикселях (20px - 150px). Изображение накладывается независимо от размера точки</div>
        
        <button type="button" id="remove-scrubber-image" style="width: 100%; padding: 6px; background: rgba(255, 45, 45, 0.2); color: var(--primary-accent); border: 1.5px solid var(--primary-accent); border-radius: 8px; cursor: pointer; font-size: 0.85rem; display: none; margin-top: 8px;">
          <i class="fas fa-times"></i> Удалить изображение
        </button>
        <div class="description" style="margin-top: 4px;">Изображение для точки воспроизведения (рекомендуется квадратное, до 100x100px)</div>
      </div>
      
      <label for="buffer-color" style="margin-top: 12px;">
        <i class="fas fa-layer-group"></i> Цвет буфера (опционально)
      </label>
      <input type="color" id="buffer-color" value="#ffffff" style="width: 100%; height: 40px; cursor: pointer; border-radius: 8px; margin-top: 4px;" />
      <div class="description">Цвет загруженной части видео (применяется с прозрачностью 20%)</div>
      
      <button id="reset-progress-colors" style="width: 100%; margin-top: 12px; padding: 8px; background: var(--primary-accent); color: #fff; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">
        <i class="fas fa-undo"></i> Сбросить к стандартным цветам
      </button>
    </div>

    <div class="form-group" style="margin-top: 12px;">
      <label for="hide-controls-enabled" style="cursor: pointer;">
        <i class="fas fa-eye-slash"></i> Отключить элементы управления воспроизведением
      </label>
      <div class="toggle-switch-label" style="margin-top: 8px;">
        <span class="toggle-switch-text">Включить</span>
        <label class="status-toggle-label" for="hide-controls-enabled" style="cursor: pointer;">
          <div class="toggle-switch">
            <input type="checkbox" id="hide-controls-enabled" />
            <span class="slider"></span>
          </div>
        </label>
      </div>
      <div class="description">Включить возможность скрывать элементы управления через горячие клавиши. Используйте заданную комбинацию клавиш для переключения скрытия.</div>
      <label for="hide-controls-shortcut" style="margin-top: 12px; display: block;">
        <i class="fas fa-keyboard"></i> Горячие клавиши для переключения
      </label>
      <input type="text" id="hide-controls-shortcut" placeholder="Нажмите комбинацию клавиш..." style="width: 100%; padding: 0.5rem 0.7rem; background-color: var(--input-bg); border: 1.5px solid var(--input-border); border-radius: var(--border-radius-md); color: var(--text-primary); font-size: 0.95rem; font-family: var(--font-family); margin-top: 4px;" />
      <div class="description">Кликните в поле и нажмите комбинацию клавиш для записи (например: Shift+H, Ctrl+K)</div>
    </div>
    
    <script src="../dist/script.js"></script>
  </body>
</html>
